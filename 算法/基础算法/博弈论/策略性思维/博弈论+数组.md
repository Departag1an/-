# [博弈论+数组](https://ac.nowcoder.com/acm/contest/92662/D)


### 推导过程详细说明

1. **问题背景**：
   - 在 \(2 \times 2\) 矩阵中，小红和小紫轮流操作。
   - 每次操作选择两个相邻的正整数，并同时减1。
   - 若某位玩家无法进行操作，则该玩家输。

2. **矩阵元素定义**：
   - 设矩阵的元素为：
     \[
     \begin{bmatrix}
     a_{11} & a_{12} \\
     a_{21} & a_{22}
     \end{bmatrix}
     \]
   - 这里 \(a_{ij}\) 表示矩阵中的元素，\(i\) 和 \(j\) 分别表示行和列。

3. **操作规则**：
   - 允许的操作是选择相邻元素。相邻元素的组合有：
     - \( (a_{11}, a_{12}) \)
     - \( (a_{11}, a_{21}) \)
     - \( (a_{22}, a_{12}) \)
     - \( (a_{21}, a_{22}) \)

4. **对角线分析**：
   - 主要对角线元素：\(a_{11}\) 和 \(a_{22}\)。
   - 反对角线元素：\(a_{12}\) 和 \(a_{21}\)。
   - 通过对角线的操作，两个对角线的元素互相影响。

5. **影响关系**：
   - 如果对角线中的任一元素为0，相关的操作将受到限制。
   - 如果主要对角线中的两个元素同时为0（即 \(a_{11} = 0\) 和 \(a_{22} = 0\)），则小红无法选择这条对角线的操作。

6. **最大可操作数计算**：
   - 为了找到最大可操作数，需要选择两条对角线的最小元素：
     - 主要对角线最小值：\(d1 = \min(a_{11}, a_{22})\)
     - 反对角线最小值：\(d2 = \min(a_{12}, a_{21})\)
   - 最大可操作次数：
     \[
     \text{max\_operations} = d1 + d2
     \]

7. **胜负判断**：
   - **情况1**：如果 \( \text{max\_operations} = 0 \)
     - 小红没有任何可操作的选择，因此小紫胜利，输出“yukari”。
   - **情况2**：如果 \( \text{max\_operations} \) 为奇数
     - 小红可以确保自己有最后一次操作，从而获胜，输出“kou”。
   - **情况3**：如果 \( \text{max\_operations} \) 为偶数
     - 小紫可以采取策略反制，确保自己最终获胜，输出“yukari”。

### 实际例子

假设有一个查询：
- 矩阵：
  \[
  \begin{bmatrix}
  1 & 2 \\
  3 & 4
  \end{bmatrix}
  \]

- 计算：
  - 主要对角线的最小值：\(d1 = \min(1, 4) = 1\)
  - 反对角线的最小值：\(d2 = \min(2, 3) = 2\)
  - 最大可操作数：\(\text{max\_operations} = 1 + 2 = 3\)（奇数）

- 结果：小红胜出，输出“kou”。

通过这种详细的分析和步骤，你可以清晰地理解整个过程及其逻辑。